{% extends "admin/layout.html" %}

{% block title %}Hello Plugin{% endblock %}

{% block content %}
<section>
  <h2>Hello Responder</h2>
  <p>This plugin replies with a friendly greeting whenever someone says “hello”.</p>
  <p>Total greetings sent this session: <strong>{{ stats.greetings_sent }}</strong></p>
</section>

<section style="margin-top: 1.5rem;">
  <h3>Settings</h3>
  <form method="post" action="/admin/tabs/hello/settings" style="display: grid; gap: 1rem; max-width: 420px;">
    <label style="display: grid; gap: 0.25rem;">
      <span>Greeting template</span>
      <small>Use <code>{mention}</code> or <code>{user}</code> as placeholders for the user mention.</small>
      <textarea name="greeting_template" rows="3" style="padding: 0.5rem; border-radius: 6px; border: 1px solid #cbd5e1;">{{ settings.greeting_template }}</textarea>
    </label>
    <label style="display: flex; align-items: center; gap: 0.5rem;">
      <input type="checkbox" name="broadcast" {% if settings.broadcast %}checked{% endif %}>
      <span>Also post replies to the channel timeline</span>
    </label>
    <button type="submit" style="background: #2563eb; color: white; padding: 0.6rem 1.2rem; border-radius: 6px; border: none; cursor: pointer;">Save settings</button>
  </form>
</section>
{% endblock %}
